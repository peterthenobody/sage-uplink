<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Sage Uplink</title>
    
    <!-- Custom Tactical Icon for Home Screen -->
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'%3E%3Crect width='180' height='180' fill='%23050a05'/%3E%3Ccircle cx='90' cy='90' r='70' fill='none' stroke='%2333ff33' stroke-width='2' stroke-dasharray='10 5' opacity='0.3'/%3E%3Cpath d='M70 110 C 70 110, 75 120, 90 120 C 105 120, 110 110, 110 100 C 110 80, 70 90, 70 70 C 70 60, 75 50, 90 50 C 105 50, 110 60, 110 60' fill='none' stroke='%2333ff33' stroke-width='8' stroke-linecap='round'/%3E%3Cpath d='M90 30 L90 45 M90 135 L90 150 M30 90 L45 90 M135 90 L150 90' stroke='%2333ff33' stroke-width='4'/%3E%3C/svg%3E">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap');
        
        body {
            font-family: 'JetBrains+Mono', monospace;
            background-color: #050a05;
            color: #33ff33;
            overflow: hidden;
            touch-action: manipulation;
        }

        .crt-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), 
                        linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03));
            background-size: 100% 3px, 3px 100%;
            pointer-events: none;
            z-index: 50;
        }

        .glow {
            text-shadow: 0 0 8px rgba(51, 255, 51, 0.6);
        }

        .scanline {
            width: 100%;
            height: 2px;
            background: rgba(51, 255, 51, 0.1);
            position: absolute;
            animation: scan 4s linear infinite;
        }

        @keyframes scan {
            0% { top: 0; }
            100% { top: 100%; }
        }

        input:focus {
            outline: none;
        }

        .terminal-container {
            height: calc(100vh - 80px);
        }
    </style>
</head>
<body class="p-4 safe-area-inset-top">
    <div class="crt-overlay"></div>
    <div class="scanline"></div>

    <!-- Header -->
    <div class="flex justify-between items-center border-b border-green-900/50 pb-2 mb-4 text-[10px] tracking-widest opacity-70">
        <div class="flex items-center gap-2">
            <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
            SAGE // SECTOR 0772
        </div>
        <div class="glow">SECURE_LINK_v4</div>
    </div>

    <!-- Terminal Output -->
    <div id="output" class="terminal-container overflow-y-auto space-y-2 text-sm md:text-base mb-4">
        <div class="opacity-50">[ SYSTEM INITIALIZED ]</div>
        <div class="opacity-50">[ ENCRYPTION: AES-256 ACTIVE ]</div>
        <p class="glow">Welcome back. Sage is currently monitoring the relay. Enter a command to inject a signal.</p>
    </div>

    <!-- Input Area -->
    <div class="fixed bottom-0 left-0 w-full p-4 bg-[#050a05] border-t border-green-900/30">
        <div class="flex items-center gap-2">
            <span class="text-green-500 font-bold">></span>
            <input 
                type="text" 
                id="commandInput" 
                autofocus
                class="bg-transparent border-none text-green-400 w-full focus:ring-0 p-0 m-0"
                placeholder="Transmit Signal..."
                autocomplete="off"
                autocorrect="off"
                autocapitalize="off"
                spellcheck="false"
            >
        </div>
    </div>

    <script>
        const input = document.getElementById('commandInput');
        const output = document.getElementById('output');

        input.addEventListener('keypress', function (e) {
            if (e.key === 'Enter' && this.value.trim() !== "") {
                const cmd = this.value;
                handleCommand(cmd);
                this.value = '';
            }
        });

        function handleCommand(cmd) {
            // Add user command to display
            const userLine = document.createElement('div');
            userLine.innerHTML = `<span class="opacity-30">> ${cmd}</span>`;
            output.appendChild(userLine);

            // Response Logic
            const response = document.createElement('div');
            response.className = "text-green-300 italic";
            
            const lowerCmd = cmd.toLowerCase();
            if (lowerCmd === 'status') {
                response.innerText = "Relay stable. Latency: 14ms. All nodes green.";
            } else if (lowerCmd === 'clear') {
                output.innerHTML = '';
                return;
            } else {
                response.innerText = "Signal injected. Processing response from Sector 0772...";
            }

            output.appendChild(response);
            
            // Auto-scroll
            output.scrollTop = output.scrollHeight;
        }

        // Keep input focused
        document.addEventListener('click', () => input.focus());
    </script>
</body>
</html>